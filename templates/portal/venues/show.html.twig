{% extends 'portal/_layout.html.twig' %}

{% block title %}Détail du site{% endblock %}

{% block portal_content %}
    <div class="mb-8 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
        <div>
            <p class="text-xs font-semibold uppercase tracking-[0.18em] text-brand">Site</p>
            <h1 class="mt-3 text-3xl font-semibold text-heading">Détail du site</h1>
            <p class="mt-2 text-sm text-body">{{ venue.name }}{% if venue.address.city %} · {{ venue.address.city }}{% endif %}</p>
        </div>
        <div class="flex flex-wrap gap-3">
            {{ include('components/_button.html.twig', {
                label: 'Retour aux sites',
                href: path('app_portal_venues_index'),
                variant: 'tertiary',
                size: 'sm'
            }) }}
        </div>
    </div>

    <section class="rounded-2xl border border-default bg-neutral-primary-soft p-6 shadow-xs">
        <h2 class="text-sm font-semibold uppercase tracking-[0.2em] text-body">Galerie photos</h2>
        <div class="mt-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
            {% for photo in photos %}
                <div class="overflow-hidden rounded-base border border-default bg-neutral-primary shadow-xs">
                    <div class="aspect-[4/3] overflow-hidden bg-neutral-secondary-medium">
                        <img src="{{ asset(photo.filePath) }}" alt="{{ photo.label }}" class="h-full w-full object-cover" loading="lazy">
                    </div>
                    <div class="p-3">
                        <p class="text-sm font-medium text-heading">{{ photo.label ?: 'Photo' }}</p>
                        <p class="text-xs text-body-subtle">{{ photo.createdAt|date('d/m/Y') }}</p>
                    </div>
                </div>
            {% else %}
                <p class="text-body-subtle">Aucune photo publique pour ce site.</p>
            {% endfor %}
        </div>
    </section>
{% endblock %}
