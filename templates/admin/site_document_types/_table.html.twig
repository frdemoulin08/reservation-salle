{% set columns = [
    { label: 'Type', sort: 'label' },
    { label: 'Code', sort: 'code' },
    { label: 'Visibilité', sort: 'isPublic' },
    { label: 'Obligatoire', sort: 'isRequired' },
    { label: 'Multiple', sort: 'isMultipleAllowed' },
    { label: 'Actif', sort: 'isActive' },
    { label: 'Position', sort: 'position' },
    { label: 'Actions' }
] %}

<div class="relative overflow-visible rounded-base border border-default bg-neutral-primary-soft shadow-xs">
    <div class="overflow-x-auto overflow-y-visible">
        <table class="w-full text-left text-sm text-body">
            {% include '_partials/table/_header.html.twig' with {
                route: 'app_admin_site_document_types_index',
                params: params,
                columns: columns
            } %}
            <tbody class="divide-y divide-neutral-secondary-soft bg-neutral-primary">
                {% for document_type in pager %}
                    <tr class="border-b border-default bg-neutral-primary-soft hover:bg-neutral-secondary-medium cursor-pointer" data-row-link="{{ path('app_admin_site_document_types_show', { id: document_type.id }) }}">
                        <th scope="row" class="px-6 py-4 font-semibold text-heading whitespace-nowrap">{{ document_type.label }}</th>
                        <td class="px-6 py-4">{{ document_type.code }}</td>
                        <td class="px-6 py-4">
                            {% if document_type.isPublic %}
                                <span class="inline-flex items-center rounded-full bg-success-soft px-2.5 py-0.5 text-xs font-medium text-fg-success-strong">Public</span>
                            {% else %}
                                <span class="inline-flex items-center rounded-full bg-neutral-tertiary px-2.5 py-0.5 text-xs font-medium text-body">Privé</span>
                            {% endif %}
                        </td>
                        <td class="px-6 py-4">
                            {% if document_type.isRequired %}
                                <span class="inline-flex items-center rounded-full bg-success-soft px-2.5 py-0.5 text-xs font-medium text-fg-success-strong">Oui</span>
                            {% else %}
                                <span class="inline-flex items-center rounded-full bg-neutral-tertiary px-2.5 py-0.5 text-xs font-medium text-body">Non</span>
                            {% endif %}
                        </td>
                        <td class="px-6 py-4">
                            {% if document_type.isMultipleAllowed %}
                                <span class="inline-flex items-center rounded-full bg-success-soft px-2.5 py-0.5 text-xs font-medium text-fg-success-strong">Oui</span>
                            {% else %}
                                <span class="inline-flex items-center rounded-full bg-neutral-tertiary px-2.5 py-0.5 text-xs font-medium text-body">Non</span>
                            {% endif %}
                        </td>
                        <td class="px-6 py-4">
                            {% if document_type.isActive %}
                                <span class="inline-flex items-center rounded-full bg-success-soft px-2.5 py-0.5 text-xs font-medium text-fg-success-strong">Actif</span>
                            {% else %}
                                <span class="inline-flex items-center rounded-full bg-neutral-tertiary px-2.5 py-0.5 text-xs font-medium text-body">Inactif</span>
                            {% endif %}
                        </td>
                        <td class="px-6 py-4">{{ document_type.position }}</td>
                        <td class="px-6 py-4 text-center">
                            {{ include('components/_actions_dropdown.html.twig', {
                                id: 'site-document-type-actions-' ~ document_type.id,
                                items: [
                                    { label: 'Voir', href: path('app_admin_site_document_types_show', { id: document_type.id }) },
                                    { label: 'Éditer', href: path('app_admin_site_document_types_edit', { id: document_type.id }) },
                                    {
                                        label: 'Supprimer',
                                        href: '#',
                                        extra_class: 'text-fg-danger font-medium',
                                        data_attrs: {
                                            'data-modal-target': 'site-document-type-delete-modal',
                                            'data-modal-toggle': 'site-document-type-delete-modal',
                                            'data-delete-url': path('app_admin_site_document_types_delete', { id: document_type.id }),
                                            'data-delete-name': document_type.label
                                        }
                                    }
                                ]
                            }) }}
                        </td>
                    </tr>
                {% else %}
                    <tr>
                        <td class="px-6 py-6 text-center text-sm text-body-subtle" colspan="{{ columns|length }}">Aucun type de document ne correspond à votre recherche.</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% include '_partials/table/_pagination.html.twig' with { route: 'app_admin_site_document_types_index', params: params, pager: pager } %}
